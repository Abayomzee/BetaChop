"use strict";var cov_14n2rqsze9=function(){var path="/Users/codepreneur/WebstormProjects/BetaChop/API/v1/controllers/order.controller.js";var hash="98b8c5bd110e70891bb2d7cbdfafdfa25643f734";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/codepreneur/WebstormProjects/BetaChop/API/v1/controllers/order.controller.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:6,column:0},end:{line:6,column:25}},"2":{start:{line:8,column:13},end:{line:8,column:73}},"3":{start:{line:10,column:39},end:{line:10,column:93}},"4":{start:{line:18,column:22},end:{line:109,column:1}},"5":{start:{line:26,column:20},end:{line:26,column:51}},"6":{start:{line:28,column:4},end:{line:31,column:19}},"7":{start:{line:41,column:4},end:{line:46,column:5}},"8":{start:{line:42,column:6},end:{line:45,column:9}},"9":{start:{line:48,column:20},end:{line:48,column:28}},"10":{start:{line:49,column:17},end:{line:49,column:33}},"11":{start:{line:50,column:15},end:{line:50,column:29}},"12":{start:{line:52,column:4},end:{line:57,column:5}},"13":{start:{line:53,column:6},end:{line:56,column:9}},"14":{start:{line:59,column:22},end:{line:59,column:61}},"15":{start:{line:61,column:4},end:{line:66,column:5}},"16":{start:{line:62,column:6},end:{line:65,column:9}},"17":{start:{line:68,column:4},end:{line:72,column:7}},"18":{start:{line:82,column:21},end:{line:82,column:29}},"19":{start:{line:83,column:17},end:{line:83,column:34}},"20":{start:{line:84,column:15},end:{line:84,column:30}},"21":{start:{line:85,column:13},end:{line:85,column:26}},"22":{start:{line:87,column:4},end:{line:92,column:5}},"23":{start:{line:88,column:6},end:{line:91,column:9}},"24":{start:{line:94,column:22},end:{line:94,column:68}},"25":{start:{line:96,column:4},end:{line:101,column:5}},"26":{start:{line:97,column:6},end:{line:100,column:9}},"27":{start:{line:103,column:4},end:{line:107,column:19}},"28":{start:{line:110,column:15},end:{line:110,column:30}},"29":{start:{line:111,column:0},end:{line:111,column:27}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:10,column:9},end:{line:10,column:31}},loc:{start:{line:10,column:37},end:{line:10,column:95}},line:10},"1":{name:"fetchAllOrders",decl:{start:{line:25,column:27},end:{line:25,column:41}},loc:{start:{line:25,column:52},end:{line:32,column:3}},line:25},"2":{name:"orderAMeal",decl:{start:{line:40,column:23},end:{line:40,column:33}},loc:{start:{line:40,column:44},end:{line:73,column:3}},line:40},"3":{name:"updateAnOrder",decl:{start:{line:81,column:26},end:{line:81,column:39}},loc:{start:{line:81,column:50},end:{line:108,column:3}},line:81}},branchMap:{"0":{loc:{start:{line:10,column:46},end:{line:10,column:92}},type:"cond-expr",locations:[{start:{line:10,column:70},end:{line:10,column:73}},{start:{line:10,column:76},end:{line:10,column:92}}],line:10},"1":{loc:{start:{line:10,column:46},end:{line:10,column:67}},type:"binary-expr",locations:[{start:{line:10,column:46},end:{line:10,column:49}},{start:{line:10,column:53},end:{line:10,column:67}}],line:10},"2":{loc:{start:{line:41,column:4},end:{line:46,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:46,column:5}},{start:{line:41,column:4},end:{line:46,column:5}}],line:41},"3":{loc:{start:{line:41,column:8},end:{line:41,column:42}},type:"binary-expr",locations:[{start:{line:41,column:8},end:{line:41,column:24}},{start:{line:41,column:28},end:{line:41,column:42}}],line:41},"4":{loc:{start:{line:52,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:52,column:4},end:{line:57,column:5}},{start:{line:52,column:4},end:{line:57,column:5}}],line:52},"5":{loc:{start:{line:61,column:4},end:{line:66,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:66,column:5}},{start:{line:61,column:4},end:{line:66,column:5}}],line:61},"6":{loc:{start:{line:87,column:4},end:{line:92,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:92,column:5}},{start:{line:87,column:4},end:{line:92,column:5}}],line:87},"7":{loc:{start:{line:87,column:8},end:{line:87,column:64}},type:"binary-expr",locations:[{start:{line:87,column:8},end:{line:87,column:32}},{start:{line:87,column:36},end:{line:87,column:64}}],line:87},"8":{loc:{start:{line:96,column:4},end:{line:101,column:5}},type:"if",locations:[{start:{line:96,column:4},end:{line:101,column:5}},{start:{line:96,column:4},end:{line:101,column:5}}],line:96}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_14n2rqsze9.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_14n2rqsze9.s[1]++;exports.default=void 0;var _order=(cov_14n2rqsze9.s[2]++,_interopRequireDefault(require("../services/order.service")));function _interopRequireDefault(obj){cov_14n2rqsze9.f[0]++;cov_14n2rqsze9.s[3]++;return(cov_14n2rqsze9.b[1][0]++,obj)&&(cov_14n2rqsze9.b[1][1]++,obj.__esModule)?(cov_14n2rqsze9.b[0][0]++,obj):(cov_14n2rqsze9.b[0][1]++,{default:obj});}/**
 * order controller performs controls  request and response -
 * order a meal,
 * modify a meal,
 * get all orders,
 */var OrderController=(cov_14n2rqsze9.s[4]++,{/**
   * @description retrieve and return all orders from our data
   * @param {object} req
   * @param {object} res
   * @returns {Array} order object array
   */fetchAllOrders:function fetchAllOrders(req,res){cov_14n2rqsze9.f[1]++;var allOrders=(cov_14n2rqsze9.s[5]++,_order.default.fetchAllOrders());cov_14n2rqsze9.s[6]++;return res.json({status:'success',data:allOrders}).status(200);},/**
   * @description order a meal
   * @param {object} req
   * @param {object} res
   * @returns {object} apiResponse
   */orderAMeal:function orderAMeal(req,res){cov_14n2rqsze9.f[2]++;cov_14n2rqsze9.s[7]++;if((cov_14n2rqsze9.b[3][0]++,!req.body.mealId)||(cov_14n2rqsze9.b[3][1]++,!req.body.type)){cov_14n2rqsze9.b[2][0]++;cov_14n2rqsze9.s[8]++;return res.status(400).send({status:'error',message:'All parameters are required'});}else{cov_14n2rqsze9.b[2][1]++;}var _req$body=(cov_14n2rqsze9.s[9]++,req.body),mealId=(cov_14n2rqsze9.s[10]++,_req$body.mealId),type=(cov_14n2rqsze9.s[11]++,_req$body.type);cov_14n2rqsze9.s[12]++;if(Number.isNaN(Number(mealId))){cov_14n2rqsze9.b[4][0]++;cov_14n2rqsze9.s[13]++;return res.status(400).json({status:'error',message:'Invalid mealId. mealId must be a number'});}else{cov_14n2rqsze9.b[4][1]++;}var orderedMeal=(cov_14n2rqsze9.s[14]++,_order.default.orderAMeal(mealId,type));cov_14n2rqsze9.s[15]++;if(orderedMeal==null){cov_14n2rqsze9.b[5][0]++;cov_14n2rqsze9.s[16]++;return res.status(200).json({status:'error',message:'This meal cannot be found'});}else{cov_14n2rqsze9.b[5][1]++;}cov_14n2rqsze9.s[17]++;return res.status(200).json({status:'success',message:'Your order has been placed',order:orderedMeal});},/**
   * @description update an order record
   * @param {object} req
   * @param {object} res
   * @returns {object} apiResponse
   */updateAnOrder:function updateAnOrder(req,res){cov_14n2rqsze9.f[3]++;var _req$body2=(cov_14n2rqsze9.s[18]++,req.body),mealId=(cov_14n2rqsze9.s[19]++,_req$body2.mealId),type=(cov_14n2rqsze9.s[20]++,_req$body2.type);var id=(cov_14n2rqsze9.s[21]++,req.params.id);cov_14n2rqsze9.s[22]++;if((cov_14n2rqsze9.b[7][0]++,Number.isNaN(Number(id)))||(cov_14n2rqsze9.b[7][1]++,Number.isNaN(Number(mealId)))){cov_14n2rqsze9.b[6][0]++;cov_14n2rqsze9.s[23]++;return res.status(400).json({status:'error',message:"Invalid ID. ID's must be a number"});}else{cov_14n2rqsze9.b[6][1]++;}var updateOrder=(cov_14n2rqsze9.s[24]++,_order.default.updateAnOrder(id,mealId,type));cov_14n2rqsze9.s[25]++;if(updateOrder==null){cov_14n2rqsze9.b[8][0]++;cov_14n2rqsze9.s[26]++;return res.status(400).json({status:'error',message:"Order with id ".concat(id," or Meal with id ").concat(mealId," cannot be found")});}else{cov_14n2rqsze9.b[8][1]++;}cov_14n2rqsze9.s[27]++;return res.json({status:'success',message:'Order was successfully updated',data:updateOrder}).status(201);}});var _default=(cov_14n2rqsze9.s[28]++,OrderController);cov_14n2rqsze9.s[29]++;exports.default=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyLmNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiT3JkZXJDb250cm9sbGVyIiwiZmV0Y2hBbGxPcmRlcnMiLCJyZXEiLCJyZXMiLCJhbGxPcmRlcnMiLCJPcmRlclNlcnZpY2UiLCJqc29uIiwic3RhdHVzIiwiZGF0YSIsIm9yZGVyQU1lYWwiLCJib2R5IiwibWVhbElkIiwidHlwZSIsInNlbmQiLCJtZXNzYWdlIiwiTnVtYmVyIiwiaXNOYU4iLCJvcmRlcmVkTWVhbCIsIm9yZGVyIiwidXBkYXRlQW5PcmRlciIsImlkIiwicGFyYW1zIiwidXBkYXRlT3JkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7Ozs7QUFNQSxJQUFNQSxlQUFlLEdBQUc7QUFDdEI7Ozs7OztBQU1BQyxFQUFBQSxjQVBzQiwwQkFPUEMsR0FQTyxFQU9GQyxHQVBFLEVBT0c7QUFDdkIsUUFBTUMsU0FBUyxHQUFHQyxlQUFhSixjQUFiLEVBQWxCOztBQUNBLFdBQU9FLEdBQUcsQ0FDUEcsSUFESSxDQUNDO0FBQ0pDLE1BQUFBLE1BQU0sRUFBRSxTQURKO0FBRUpDLE1BQUFBLElBQUksRUFBRUo7QUFGRixLQURELEVBS0pHLE1BTEksQ0FLRyxHQUxILENBQVA7QUFNRCxHQWZxQjs7QUFpQnRCOzs7Ozs7QUFNQUUsRUFBQUEsVUF2QnNCLHNCQXVCWFAsR0F2QlcsRUF1Qk5DLEdBdkJNLEVBdUJEO0FBQ25CLFFBQUksQ0FBQ0QsR0FBRyxDQUFDUSxJQUFKLENBQVNDLE1BQVYsSUFBb0IsQ0FBQ1QsR0FBRyxDQUFDUSxJQUFKLENBQVNFLElBQWxDLEVBQXdDO0FBQ3RDLGFBQU9ULEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JNLElBQWhCLENBQXFCO0FBQzFCTixRQUFBQSxNQUFNLEVBQUUsT0FEa0I7QUFFMUJPLFFBQUFBLE9BQU8sRUFBRTtBQUZpQixPQUFyQixDQUFQO0FBSUQ7O0FBTmtCLG9CQVFNWixHQUFHLENBQUNRLElBUlY7QUFBQSxRQVFYQyxNQVJXLGFBUVhBLE1BUlc7QUFBQSxRQVFIQyxJQVJHLGFBUUhBLElBUkc7O0FBVW5CLFFBQUlHLE1BQU0sQ0FBQ0MsS0FBUCxDQUFhRCxNQUFNLENBQUNKLE1BQUQsQ0FBbkIsQ0FBSixFQUFrQztBQUNoQyxhQUFPUixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCRCxJQUFoQixDQUFxQjtBQUMxQkMsUUFBQUEsTUFBTSxFQUFFLE9BRGtCO0FBRTFCTyxRQUFBQSxPQUFPLEVBQUU7QUFGaUIsT0FBckIsQ0FBUDtBQUlEOztBQUVELFFBQU1HLFdBQVcsR0FBR1osZUFBYUksVUFBYixDQUF3QkUsTUFBeEIsRUFBZ0NDLElBQWhDLENBQXBCOztBQUVBLFFBQUlLLFdBQVcsSUFBSSxJQUFuQixFQUF5QjtBQUN2QixhQUFPZCxHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCRCxJQUFoQixDQUFxQjtBQUMxQkMsUUFBQUEsTUFBTSxFQUFFLE9BRGtCO0FBRTFCTyxRQUFBQSxPQUFPLEVBQUU7QUFGaUIsT0FBckIsQ0FBUDtBQUlEOztBQUVELFdBQU9YLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLEdBQVgsRUFBZ0JELElBQWhCLENBQXFCO0FBQzFCQyxNQUFBQSxNQUFNLEVBQUUsU0FEa0I7QUFFMUJPLE1BQUFBLE9BQU8sRUFBRSw0QkFGaUI7QUFHMUJJLE1BQUFBLEtBQUssRUFBRUQ7QUFIbUIsS0FBckIsQ0FBUDtBQUtELEdBdERxQjs7QUF3RHRCOzs7Ozs7QUFNQUUsRUFBQUEsYUE5RHNCLHlCQThEUmpCLEdBOURRLEVBOERIQyxHQTlERyxFQThERTtBQUFBLHFCQUNHRCxHQUFHLENBQUNRLElBRFA7QUFBQSxRQUNkQyxNQURjLGNBQ2RBLE1BRGM7QUFBQSxRQUNOQyxJQURNLGNBQ05BLElBRE07QUFBQSxRQUVkUSxFQUZjLEdBRVBsQixHQUFHLENBQUNtQixNQUZHLENBRWRELEVBRmM7O0FBSXRCLFFBQUlMLE1BQU0sQ0FBQ0MsS0FBUCxDQUFhRCxNQUFNLENBQUNLLEVBQUQsQ0FBbkIsS0FBNEJMLE1BQU0sQ0FBQ0MsS0FBUCxDQUFhRCxNQUFNLENBQUNKLE1BQUQsQ0FBbkIsQ0FBaEMsRUFBOEQ7QUFDNUQsYUFBT1IsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkQsSUFBaEIsQ0FBcUI7QUFDMUJDLFFBQUFBLE1BQU0sRUFBRSxPQURrQjtBQUUxQk8sUUFBQUEsT0FBTyxFQUFFO0FBRmlCLE9BQXJCLENBQVA7QUFJRDs7QUFFRCxRQUFNUSxXQUFXLEdBQUdqQixlQUFhYyxhQUFiLENBQTJCQyxFQUEzQixFQUErQlQsTUFBL0IsRUFBdUNDLElBQXZDLENBQXBCOztBQUVBLFFBQUlVLFdBQVcsSUFBSSxJQUFuQixFQUF5QjtBQUN2QixhQUFPbkIsR0FBRyxDQUFDSSxNQUFKLENBQVcsR0FBWCxFQUFnQkQsSUFBaEIsQ0FBcUI7QUFDMUJDLFFBQUFBLE1BQU0sRUFBRSxPQURrQjtBQUUxQk8sUUFBQUEsT0FBTywwQkFBbUJNLEVBQW5CLDhCQUF5Q1QsTUFBekM7QUFGbUIsT0FBckIsQ0FBUDtBQUlEOztBQUNELFdBQU9SLEdBQUcsQ0FDUEcsSUFESSxDQUNDO0FBQ0pDLE1BQUFBLE1BQU0sRUFBRSxTQURKO0FBRUpPLE1BQUFBLE9BQU8sRUFBRSxnQ0FGTDtBQUdKTixNQUFBQSxJQUFJLEVBQUVjO0FBSEYsS0FERCxFQU1KZixNQU5JLENBTUcsR0FOSCxDQUFQO0FBT0Q7QUF4RnFCLENBQXhCO2VBMkZlUCxlIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9jb2RlcHJlbmV1ci9XZWJzdG9ybVByb2plY3RzL0JldGFDaG9wL0FQSS92MS9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBPcmRlclNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvb3JkZXIuc2VydmljZSc7XG4vKipcbiAqIG9yZGVyIGNvbnRyb2xsZXIgcGVyZm9ybXMgY29udHJvbHMgIHJlcXVlc3QgYW5kIHJlc3BvbnNlIC1cbiAqIG9yZGVyIGEgbWVhbCxcbiAqIG1vZGlmeSBhIG1lYWwsXG4gKiBnZXQgYWxsIG9yZGVycyxcbiAqL1xuY29uc3QgT3JkZXJDb250cm9sbGVyID0ge1xuICAvKipcbiAgICogQGRlc2NyaXB0aW9uIHJldHJpZXZlIGFuZCByZXR1cm4gYWxsIG9yZGVycyBmcm9tIG91ciBkYXRhXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICAgKiBAcmV0dXJucyB7QXJyYXl9IG9yZGVyIG9iamVjdCBhcnJheVxuICAgKi9cbiAgZmV0Y2hBbGxPcmRlcnMocmVxLCByZXMpIHtcbiAgICBjb25zdCBhbGxPcmRlcnMgPSBPcmRlclNlcnZpY2UuZmV0Y2hBbGxPcmRlcnMoKTtcbiAgICByZXR1cm4gcmVzXG4gICAgICAuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBkYXRhOiBhbGxPcmRlcnMsXG4gICAgICB9KVxuICAgICAgLnN0YXR1cygyMDApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gb3JkZXIgYSBtZWFsXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBhcGlSZXNwb25zZVxuICAgKi9cbiAgb3JkZXJBTWVhbChyZXEsIHJlcykge1xuICAgIGlmICghcmVxLmJvZHkubWVhbElkIHx8ICFyZXEuYm9keS50eXBlKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdBbGwgcGFyYW1ldGVycyBhcmUgcmVxdWlyZWQnLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBtZWFsSWQsIHR5cGUgfSA9IHJlcS5ib2R5O1xuXG4gICAgaWYgKE51bWJlci5pc05hTihOdW1iZXIobWVhbElkKSkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgbWVhbElkLiBtZWFsSWQgbXVzdCBiZSBhIG51bWJlcicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBvcmRlcmVkTWVhbCA9IE9yZGVyU2VydmljZS5vcmRlckFNZWFsKG1lYWxJZCwgdHlwZSk7XG5cbiAgICBpZiAob3JkZXJlZE1lYWwgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnVGhpcyBtZWFsIGNhbm5vdCBiZSBmb3VuZCcsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICBtZXNzYWdlOiAnWW91ciBvcmRlciBoYXMgYmVlbiBwbGFjZWQnLFxuICAgICAgb3JkZXI6IG9yZGVyZWRNZWFsLFxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb24gdXBkYXRlIGFuIG9yZGVyIHJlY29yZFxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gYXBpUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZUFuT3JkZXIocmVxLCByZXMpIHtcbiAgICBjb25zdCB7IG1lYWxJZCwgdHlwZSB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcblxuICAgIGlmIChOdW1iZXIuaXNOYU4oTnVtYmVyKGlkKSkgfHwgTnVtYmVyLmlzTmFOKE51bWJlcihtZWFsSWQpKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgSUQuIElEJ3MgbXVzdCBiZSBhIG51bWJlclwiLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlT3JkZXIgPSBPcmRlclNlcnZpY2UudXBkYXRlQW5PcmRlcihpZCwgbWVhbElkLCB0eXBlKTtcblxuICAgIGlmICh1cGRhdGVPcmRlciA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6IGBPcmRlciB3aXRoIGlkICR7aWR9IG9yIE1lYWwgd2l0aCBpZCAke21lYWxJZH0gY2Fubm90IGJlIGZvdW5kYCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gICAgICAuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAnT3JkZXIgd2FzIHN1Y2Nlc3NmdWxseSB1cGRhdGVkJyxcbiAgICAgICAgZGF0YTogdXBkYXRlT3JkZXIsXG4gICAgICB9KVxuICAgICAgLnN0YXR1cygyMDEpO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgT3JkZXJDb250cm9sbGVyO1xuIl19